@using System.Web.UI.WebControls
@inherits Umbraco.Web.Mvc.UmbracoViewPage<Examensarbete.Models.ViewModels.CalenderViewModel>

@using (Html.BeginUmbracoForm("BookDate", "CalenderSurface", FormMethod.Post, new { @class = "form-inline" }))
{
    @Html.HiddenFor(m => m.CalenderBokings, new { Value = @Model.CalenderBokings.Count })
    @Html.AntiForgeryToken()

    if (TempData["BokingMassage"] != null)
    {
        <div class="alert alert-dark">
            <small class="form-text text-muted">@TempData["BokingMessage"]</small>
        </div>
    }
    <div class="row">
        <div class="col-lg-3 col-md-12">
            <div class="form-group">

                @Html.LabelFor(m => m.ArrivalDate)
                @Html.EditorFor(m => m.ArrivalDate,
                    new
                    {
                        htmlAttributes = new
                        {
                            @class = "form-control date",
                            @id = "date",
                            @Name = "ArrivalDate",
                            onkeydown = "return false",
                            onpaste = "return false",
                            autocomplete = "off"
                        }
                    })
            </div>
        </div>

        <div class="col-lg-3 col-md-12">
            <div class="form-group">
                @Html.LabelFor(m => m.ReturnDate)
                @Html.EditorFor(m => m.ReturnDate,
                    new
                    {
                        htmlAttributes = new
                        {
                            @class = "form-control date",
                            @id = "date",
                            @Name = "ReturnDate",
                            onkeydown = "return false",
                            onpaste = "return false",
                            autocomplete = "off"
                        }
                    })
            </div>
        </div>

        <div class="col-lg-3 col-md-12">
            <div class="form-group">
                @Html.LabelFor(m => m.Name)
                @Html.TextBoxFor(m => m.Name, new { @class = "form-control" })
            </div>
        </div>

        <div class="col-lg-3 col-md-12">
            <div class="form-group">
                @Html.LabelFor(m => m.NumberOfPeople)
                @Html.TextBoxFor(m => m.NumberOfPeople, new
           {
               type = "number",
               min = "1",
               @class = "form-control",
               onkeydown = "return false",
               onpaste = "return false",
               autocomplete = "off"
           })

                <input type="submit" class="btn btn-info" value="Spara" />
            </div>
        </div>



    </div>
}
<div class="row">

    <div class="col-sm-12">
        <table class="table table-responsive-md ">
            <thead class="table-dark">
                <tr>
                    <th>Namn</th>
                    <th>Antal personer</th>
                    <th>Ankomstdatum</th>
                    <th>Hemresa</th>
                </tr>
            </thead>
            <tbody>
                @if (Model.CalenderBokings.Count > 0)
                {

                    foreach (var boking in Model.CalenderBokings)
                    {
                        <tr>
                            <td>@boking.Name</td>
                            <td>@boking.NumberOfPeople</td>
                            <td>@boking.ArrivalDate.ToString("dd MMMM")</td>
                            <td>@boking.ReturnDate.ToString("dd MMMM")</td>

                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="4">Inga bokningar är gjorda.</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>